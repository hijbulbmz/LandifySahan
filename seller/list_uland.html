<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>List Undeveloped Land ‚Äî Landify</title>
  <link rel="stylesheet" href="../assets/css/listing.css">
</head>

<body class="cat-land">

  <header class="lf-header">
    <a href="../index.html" class="lf-logo">Landify<span>.</span></a>
    <a href="../pages/dashboard.html" class="lf-header-back">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
        <polyline points="15 18 9 12 15 6" />
      </svg>
      Back to Dashboard
    </a>
  </header>

  <div class="lf-hero">
    <div class="lf-hero-eyebrow">üìç Undeveloped Land</div>
    <h1>List Your Undeveloped<br>Land for Sale</h1>
    <p>Vacant plots, raw land, waterfront and corner pieces ‚Äî select your sub-type and get verified fast.</p>
  </div>

  <div style="max-width:860px;margin:0 auto;padding:0 2rem;">
    <div class="lf-progress-bar">
      <div class="lf-progress-fill" style="width:0%"></div>
    </div>
  </div>

  <div class="lf-body">

    <div style="margin-bottom:1.75rem;">
      <div
        style="font-size:0.78rem;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:var(--muted);margin-bottom:0.75rem;">
        Step 1 ‚Äî Select Sub-Type</div>
      <div class="lf-subtype-grid" id="subtypePicker">
        <button class="lf-subtype-pill" onclick="selectSubtype(this,'vacant-plot')">üìç Vacant Plot</button>
        <button class="lf-subtype-pill" onclick="selectSubtype(this,'raw-land')">üèî Raw Land</button>
        <button class="lf-subtype-pill" onclick="selectSubtype(this,'waterfront')">üåä Waterfront Land</button>
        <button class="lf-subtype-pill" onclick="selectSubtype(this,'corner-piece')">üìê Corner Piece</button>
      </div>
    </div>

    <form id="listingForm" style="display:none;">

      <div class="lf-admin-notice">
        <div class="lf-admin-notice-icon">üîí</div>
        <div class="lf-admin-notice-text"><strong>Admin-Verified Listing:</strong> Survey documents, title deeds, and
          encumbrance certificates are verified before undeveloped land listings go live.</div>
      </div>
      <div class="lf-req-note">Fields marked <span>*</span> are required.</div>

      <!-- BASIC INFO -->
      <div class="lf-section lf-section-shared">
        <div class="lf-section-head">
          <div class="lf-section-icon">üìå</div>
          <div class="lf-section-title">Basic Information</div>
          <span class="lf-section-badge">Required</span>
          <svg class="lf-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round">
            <polyline points="6 9 12 15 18 9" />
          </svg>
        </div>
        <div class="lf-section-body">
          <div class="lf-field full">
            <label class="lf-label">Property Title <span class="req">*</span> <span class="hint">e.g. "Prime 600 sqm
                Corner Plot in Whitefield"</span></label>
            <input class="lf-input" type="text" name="title" placeholder="Enter a descriptive title for your land"
              required>
          </div>
          <div class="lf-field">
            <label class="lf-label">State <span class="req">*</span></label>
            <select class="lf-select" id="stateSelect" name="state" required>
              <option value="">Select state</option>
            </select>
          </div>
          <div class="lf-field">
            <label class="lf-label">District <span class="req">*</span></label>
            <select class="lf-select" id="districtSelect" name="district" disabled required>
              <option value="">Select district first</option>
            </select>
          </div>
          <div class="lf-field">
            <label class="lf-label">Locality / Area <span class="req">*</span></label>
            <input class="lf-input" type="text" name="locality" placeholder="e.g. Devanahalli, Gated Layout" required>
          </div>
          <div class="lf-field">
            <label class="lf-label">Google Maps Link</label>
            <input class="lf-input" type="url" name="location_link" placeholder="Paste maps.google.com/‚Ä¶ link">
          </div>
        </div>
      </div>

      <!-- SUBTYPE SECTION -->
      <div class="lf-section" id="subtypeSection">
        <div class="lf-section-head">
          <div class="lf-section-icon" id="subtypeIcon">üìç</div>
          <div class="lf-section-title" id="subtypeSectionTitle">Additional Details</div>
          <span class="lf-section-badge" id="subtypeTag">Undeveloped</span>
          <svg class="lf-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round">
            <polyline points="6 9 12 15 18 9" />
          </svg>
        </div>
        <div class="lf-section-body" id="subtypeFields"></div>
      </div>

      <!-- AREA -->
      <div class="lf-section lf-section-shared">
        <div class="lf-section-head">
          <div class="lf-section-icon">üìê</div>
          <div class="lf-section-title">Plot / Land Area</div>
          <span class="lf-section-badge">Required</span>
          <svg class="lf-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round">
            <polyline points="6 9 12 15 18 9" />
          </svg>
        </div>
        <div class="lf-section-body">
          <div class="lf-field">
            <label class="lf-label">Plot Size <span class="req">*</span></label>
            <div class="lf-input-unit">
              <input class="lf-input" type="number" name="total_area" placeholder="0" min="0" required>
              <select class="lf-unit-select" name="area_unit">
                <option>sq ft</option>
                <option>sq m</option>
                <option>sq yd</option>
                <option>Acres</option>
                <option>Guntha</option>
              </select>
            </div>
          </div>
          <div class="lf-field">
            <label class="lf-label">Plot Dimensions</label>
            <input class="lf-input" type="text" name="plot_dimensions" placeholder="e.g. 30 √ó 40 ft">
          </div>
        </div>
      </div>

      <!-- PRICING -->
      <div class="lf-section lf-section-shared">
        <div class="lf-section-head">
          <div class="lf-section-icon">üí∞</div>
          <div class="lf-section-title">Pricing</div>
          <span class="lf-section-badge">Required</span>
          <svg class="lf-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round">
            <polyline points="6 9 12 15 18 9" />
          </svg>
        </div>
        <div class="lf-section-body">
          <div class="lf-field">
            <label class="lf-label">Expected Price (‚Çπ) <span class="req">*</span></label>
            <div class="lf-input-unit">
              <span class="lf-unit-tag">‚Çπ</span>
              <input class="lf-input" type="number" name="price" placeholder="0" min="0" required>
            </div>
          </div>
          <div class="lf-field">
            <label class="lf-label">Price Negotiable</label>
            <div class="lf-toggle">
              <input type="radio" name="negotiable" id="neg_y" value="Yes"><label for="neg_y">Yes</label>
              <input type="radio" name="negotiable" id="neg_n" value="No" checked><label for="neg_n">No</label>
            </div>
          </div>
          <div class="lf-field full">
            <label class="lf-label">Title / Ownership Documents</label>
            <select class="lf-select" name="title_type">
              <option value="">Select document type</option>
              <option>Certificate of Occupancy (C of O)</option>
              <option>Right of Occupancy (R of O)</option>
              <option>Governor's Consent</option>
              <option>Survey / Layout Plan</option>
              <option>Registered Sale Deed</option>
              <option>Other</option>
            </select>
          </div>
        </div>
      </div>

      <!-- MEDIA -->
      <div class="lf-section lf-section-shared">
        <div class="lf-section-head">
          <div class="lf-section-icon">üñº</div>
          <div class="lf-section-title">Photos & Title Documents</div>
          <span class="lf-section-badge">Min 3 photos</span>
          <svg class="lf-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round">
            <polyline points="6 9 12 15 18 9" />
          </svg>
        </div>
        <div class="lf-section-body single-col">
          <div class="lf-field">
            <label class="lf-label">Land Photos <span class="req">*</span> <span class="hint">Aerial, boundary, and
                entry photos recommended</span></label>
            <div class="lf-upload">
              <input type="file" name="images" accept="image/*" multiple>
              <div class="lf-upload-icon">üì∑</div>
              <div class="lf-upload-title">Click or drag to upload photos</div>
              <div class="lf-upload-sub">JPG, PNG, WEBP ‚Äî Min 3 photos required</div>
              <div class="lf-upload-preview"></div>
            </div>
          </div>
          <div class="lf-field">
            <label class="lf-label">Title Documents <span class="hint">Survey plan, title deed, encumbrance
                certificate</span></label>
            <div class="lf-upload">
              <input type="file" name="documents" accept=".pdf,.jpg,.png,.docx" multiple>
              <div class="lf-upload-icon">üìã</div>
              <div class="lf-upload-title">Click or drag to upload documents</div>
              <div class="lf-upload-sub">PDF, JPG, PNG ‚Äî Survey plan strongly recommended</div>
              <div class="lf-upload-preview"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="lf-actions">
        <div style="display:flex;align-items:center;gap:1rem;">
          <button type="button" class="lf-btn-back" onclick="resetForm()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
              style="width:14px;height:14px;">
              <polyline points="15 18 9 12 15 6" />
            </svg>
            Change Type
          </button>
          <button type="button" class="lf-save-draft">Save draft</button>
        </div>
        <button type="submit" class="lf-btn-submit" id="submitBtn">
          Submit for Approval
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
            stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12" />
            <polyline points="12 5 19 12 12 19" />
          </svg>
        </button>
      </div>
    </form>
  </div>

  <script src="../assets/js/listing.js"></script>
  <script>
    const SUBTYPE_CONFIG = {
      'vacant-plot': {
        label: 'Vacant Plot', icon: 'üìç',
        fields: `
      <div class="lf-field full">
        <label class="lf-label">Plot Title <span class="req">*</span> <span class="hint">e.g. "600 sqft Residential Plot near Metro Station"</span></label>
        <input class="lf-input" type="text" name="plot_title" placeholder="Enter a clear, descriptive title for this plot" required>
      </div>

      <div class="lf-field full">
        <label class="lf-label">Sub-Category <span class="req">*</span> <span class="hint">Intended or permitted use</span></label>
        <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-top:0.25rem;" id="subCatPicker">
          <button type="button" class="lf-subtype-pill" onclick="toggleSubCat(this,'Residential')">üè† Residential</button>
          <button type="button" class="lf-subtype-pill" onclick="toggleSubCat(this,'Commercial')">üè¢ Commercial</button>
          <button type="button" class="lf-subtype-pill" onclick="toggleSubCat(this,'Agricultural')">üåæ Agricultural</button>
          <button type="button" class="lf-subtype-pill" onclick="toggleSubCat(this,'Industrial')">‚öôÔ∏è Industrial</button>
        </div>
        <input type="hidden" name="sub_category" id="subCatValue" required>
      </div>

      <div class="lf-field full">
        <label class="lf-label">Plot Area <span class="req">*</span></label>
        <div style="display:flex;gap:0.75rem;flex-wrap:wrap;align-items:flex-start;">
          <div class="lf-input-unit" style="flex:1;min-width:200px;">
            <input class="lf-input" type="number" name="plot_area" id="plotAreaInput" placeholder="0" min="0" required oninput="handleAreaInput()">
            <select class="lf-unit-select" name="plot_area_unit" id="plotAreaUnit" onchange="handleUnitChange()">
              <option value="sqft">sq ft</option>
              <option value="sqyard">sq yard</option>
              <option value="bigha">Bigha</option>
            </select>
          </div>
        </div>
        <div id="bighaSubfields" style="display:none;margin-top:0.75rem;display:none;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;">
            <div class="lf-field">
              <label class="lf-label">Katha <span class="hint">(within the Bigha)</span></label>
              <input class="lf-input" type="number" name="katha" id="kathaInput" placeholder="0" min="0" max="20">
            </div>
            <div class="lf-field">
              <label class="lf-label">Lecha <span class="hint">(within the Katha)</span></label>
              <input class="lf-input" type="number" name="lecha" id="lechaInput" placeholder="0" min="0" max="20">
            </div>
          </div>
          <div style="margin-top:0.5rem;padding:0.5rem 0.75rem;background:var(--accent-light);border-radius:6px;font-size:0.78rem;color:var(--ink-light);">
            ‚ÑπÔ∏è 1 Bigha = 20 Katha &nbsp;¬∑&nbsp; 1 Katha = 20 Lecha <span style="color:var(--muted)">(North/East India standard)</span>
          </div>
        </div>
      </div>

      <div class="lf-field">
        <label class="lf-label">State <span class="req">*</span></label>
        <select class="lf-select" id="stateSelectVP" name="vp_state" required>
          <option value="">Select state</option>
        </select>
      </div>
      <div class="lf-field">
        <label class="lf-label">District <span class="req">*</span></label>
        <select class="lf-select" id="districtSelectVP" name="vp_district" disabled required>
          <option value="">Select district first</option>
        </select>
      </div>
      <div class="lf-field">
        <label class="lf-label">Locality / Area <span class="req">*</span></label>
        <input class="lf-input" type="text" name="vp_locality" placeholder="e.g. Koramangala, Sector 12" required>
      </div>
      <div class="lf-field">
        <label class="lf-label">Google Maps Link</label>
        <input class="lf-input" type="url" name="vp_location_link" placeholder="Paste maps.google.com/‚Ä¶ link">
      </div>

      <div class="lf-field full">
        <label class="lf-label">Expected Price (‚Çπ) <span class="req">*</span></label>
        <div class="lf-input-unit">
          <span class="lf-unit-tag">‚Çπ</span>
          <input class="lf-input" type="number" name="vp_price" placeholder="0" min="0" required>
        </div>
      </div>

      <div class="lf-field full">
        <label class="lf-label">Plot Images <span class="req">*</span> <span class="hint">Upload at least 3 clear photos of the plot</span></label>
        <div class="lf-upload">
          <input type="file" name="vp_images" accept="image/*" multiple>
          <div class="lf-upload-icon">üì∑</div>
          <div class="lf-upload-title">Click or drag to upload plot photos</div>
          <div class="lf-upload-sub">JPG, PNG, WEBP ‚Äî Boundary, entry & aerial shots recommended</div>
          <div class="lf-upload-preview"></div>
        </div>
      </div>
    `
      },
      'raw-land': {
        label: 'Raw Land', icon: 'üèî',
        fields: `
      <div class="lf-field"><label class="lf-label">Land Classification <span class="req">*</span></label><select class="lf-select" name="land_classification" required><option value="">Select</option><option>Revenue Land</option><option>Forest Adjacent</option><option>Hill / Slope</option><option>Plains / Flat</option><option>Wasteland</option></select></div>
      <div class="lf-field"><label class="lf-label">Access Road</label><select class="lf-select" name="access_road"><option value="">Select</option><option>Tar Road</option><option>Gravel/Kutcha</option><option>Cart Track</option><option>No Access Road</option></select></div>
      <div class="lf-field"><label class="lf-label">Utilities Nearby</label><select class="lf-select" name="utilities_nearby"><option value="">Select</option><option>Power Line Nearby</option><option>Water Source Nearby</option><option>Both Available</option><option>None</option></select></div>
      <div class="lf-field full"><label class="lf-label">Land Description</label><textarea class="lf-textarea" name="land_description" placeholder="Describe terrain, topography, current land use, development potential..."></textarea></div>
    `
      },
      'waterfront': {
        label: 'Waterfront Land', icon: 'üåä',
        fields: `
      <div class="lf-field"><label class="lf-label">Water Body Type <span class="req">*</span></label><select class="lf-select" name="water_body_type" required><option value="">Select</option><option>River</option><option>Lake</option><option>Sea / Ocean</option><option>Backwaters</option><option>Reservoir / Dam</option></select></div>
      <div class="lf-field"><label class="lf-label">Distance from Water Body (meters)</label><input class="lf-input" type="number" name="distance_from_water" min="0" placeholder="e.g. 50"></div>
      <div class="lf-field"><label class="lf-label">Flood Risk <span class="hint">Admin will verify this</span></label><select class="lf-select" name="flood_risk"><option value="">Not assessed</option><option>Low Risk</option><option>Medium Risk</option><option>High Risk ‚Äî Seasonal</option></select></div>
      <div class="lf-field"><label class="lf-label">Beachfront / Direct Access</label><div class="lf-toggle"><input type="radio" name="direct_access" id="da_y" value="Yes"><label for="da_y">Yes</label><input type="radio" name="direct_access" id="da_n" value="No" checked><label for="da_n">No</label></div></div>
      <div class="lf-field full"><label class="lf-label">Additional Details</label><textarea class="lf-textarea" name="additional_details" placeholder="Describe water frontage length, access, views, permitted uses..."></textarea></div>
    `
      },
      'corner-piece': {
        label: 'Corner Piece', icon: 'üìê',
        fields: `
      <div class="lf-field full"><label class="lf-label">Corner Plot Confirmed</label><div class="lf-toggle"><input type="radio" name="corner_confirmed" id="cc_y" value="Yes" checked><label for="cc_y">Yes ‚Äî It's a corner plot</label><input type="radio" name="corner_confirmed" id="cc_n" value="No"><label for="cc_n">No</label></div></div>
      <div class="lf-field"><label class="lf-label">Road Width ‚Äî Side 1 (ft) <span class="req">*</span></label><input class="lf-input" type="number" name="road_width_1" min="0" placeholder="e.g. 40" required></div>
      <div class="lf-field"><label class="lf-label">Road Width ‚Äî Side 2 (ft) <span class="req">*</span></label><input class="lf-input" type="number" name="road_width_2" min="0" placeholder="e.g. 30" required></div>
      <div class="lf-field"><label class="lf-label">Facing Direction (Main Road)</label><select class="lf-select" name="facing"><option value="">Select</option><option>East</option><option>West</option><option>North</option><option>South</option></select></div>
      <div class="lf-field"><label class="lf-label">Layout Approved</label><div class="lf-toggle"><input type="radio" name="layout_approved" id="cp_la_y" value="Yes"><label for="cp_la_y">Yes</label><input type="radio" name="layout_approved" id="cp_la_n" value="No" checked><label for="cp_la_n">No</label></div></div>
      <div class="lf-field full"><label class="lf-label">Additional Notes</label><textarea class="lf-textarea" name="notes" placeholder="Describe dual road advantage, neighbourhood, nearby landmarks..."></textarea></div>
    `
      }
    };

    // ‚îÄ‚îÄ Vacant Plot helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    function toggleSubCat(btn, value) {
      // Single-select behaviour
      document.querySelectorAll('#subCatPicker .lf-subtype-pill').forEach(p => p.classList.remove('selected'));
      btn.classList.add('selected');
      document.getElementById('subCatValue').value = value;
    }

    function handleUnitChange() {
      const unit = document.getElementById('plotAreaUnit').value;
      const bighaBlock = document.getElementById('bighaSubfields');
      if (unit === 'bigha') {
        bighaBlock.style.display = 'block';
      } else {
        bighaBlock.style.display = 'none';
        const k = document.getElementById('kathaInput');
        const l = document.getElementById('lechaInput');
        if (k) k.value = '';
        if (l) l.value = '';
      }
    }

    function handleAreaInput() { updateProgress(); }

    // Wire the inline state/district selects inside the vacant-plot fields
    // Called after selectSubtype renders the fields
    function wireVacantPlotLocation() {
      const stSel = document.getElementById('stateSelectVP');
      const distSel = document.getElementById('districtSelectVP');
      if (!stSel || !distSel) return;

      // Populate states
      const states = Object.keys(INDIA_DISTRICTS).sort();
      stSel.innerHTML = '<option value="">Select state</option>';
      states.forEach(s => {
        const opt = document.createElement('option');
        opt.value = s; opt.textContent = s;
        stSel.appendChild(opt);
      });

      // Wire change
      stSel.addEventListener('change', () => {
        const state = stSel.value;
        distSel.innerHTML = '<option value="">Select district</option>';
        if (state && INDIA_DISTRICTS[state]) {
          INDIA_DISTRICTS[state].forEach(d => {
            const opt = document.createElement('option');
            opt.value = d; opt.textContent = d;
            distSel.appendChild(opt);
          });
          distSel.disabled = false;
        } else {
          distSel.disabled = true;
        }
      });
    }

    function selectSubtype(btn, sub) {
      document.querySelectorAll('.lf-subtype-pill').forEach(p => p.classList.remove('selected'));
      btn.classList.add('selected');
      const cfg = SUBTYPE_CONFIG[sub];
      if (!cfg) return;
      document.getElementById('subtypeIcon').textContent = cfg.icon;
      document.getElementById('subtypeSectionTitle').textContent = 'Additional Details';
      document.getElementById('subtypeTag').textContent = cfg.label;
      document.getElementById('subtypeFields').innerHTML = cfg.fields;
      document.getElementById('listingForm').style.display = 'block';
      document.getElementById('listingForm').scrollIntoView({ behavior: 'smooth', block: 'start' });
      initUploadZones();
      updateProgress();
      // For vacant-plot, all fields are self-contained inside subtypeFields
      // Hide the shared Basic Info / Area / Pricing / Media sections
      const sharedSections = document.querySelectorAll('.lf-section-shared');
      sharedSections.forEach(s => {
        s.style.display = sub === 'vacant-plot' ? 'none' : '';
      });
      // Wire inline location selects for vacant-plot
      if (sub === 'vacant-plot') wireVacantPlotLocation();
    }

    function resetForm() {
      document.getElementById('listingForm').style.display = 'none';
      document.querySelectorAll('.lf-subtype-pill').forEach(p => p.classList.remove('selected'));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>

</html>